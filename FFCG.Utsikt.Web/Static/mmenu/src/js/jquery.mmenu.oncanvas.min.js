(function(n){function o(t,r,u){if(u)return typeof t!="object"&&(t={}),t;t=n.extend(!0,{},n[i].defaults,t);for(var e=["position","zposition","modal","moveBackground"],f=0,o=e.length;f<o;f++)typeof t[e[f]]!="undefined"&&(n[i].deprecated('The option "'+e[f]+'"',"offCanvas."+e[f]),t.offCanvas=t.offCanvas||{},t.offCanvas[e[f]]=t[e[f]]);return t}function s(t){t=n.extend(!0,{},n[i].configuration,t);for(var u=["panel","list","selected","label","spacer"],r=0,f=u.length;r<f;r++)typeof t[u[r]+"Class"]!="undefined"&&(n[i].deprecated('The configuration option "'+u[r]+'Class"',"classNames."+u[r]),t.classNames[u[r]]=t[u[r]+"Class"]);if(typeof t.counterClass!="undefined"&&(n[i].deprecated('The configuration option "counterClass"',"classNames.counters.counter"),t.classNames.counters=t.classNames.counters||{},t.classNames.counters.counter=t.counterClass),typeof t.collapsedClass!="undefined"&&(n[i].deprecated('The configuration option "collapsedClass"',"classNames.labels.collapsed"),t.classNames.labels=t.classNames.labels||{},t.classNames.labels.collapsed=t.collapsedClass),typeof t.header!="undefined")for(var u=["panelHeader","panelNext","panelPrev"],r=0,f=u.length;r<f;r++)typeof t.header[u[r]+"Class"]!="undefined"&&(n[i].deprecated('The configuration option "header.'+u[r]+'Class"',"classNames.header."+u[r]),t.classNames.header=t.classNames.header||{},t.classNames.header[u[r]]=t.header[u[r]+"Class"]);for(var u=["pageNodetype","pageSelector","menuWrapperSelector","menuInjectMethod"],r=0,f=u.length;r<f;r++)typeof t[u[r]]!="undefined"&&(n[i].deprecated('The configuration option "'+u[r]+'"',"offCanvas."+u[r]),t.offCanvas=t.offCanvas||{},t.offCanvas[u[r]]=t[u[r]]);return t}function h(){e=!0;f.$wndw=n(window);f.$html=n("html");f.$body=n("body");n.each([t,u,r],function(n,t){t.add=function(n){n=n.split(" ");for(var i in n)t[n[i]]=t.mm(n[i])}});t.mm=function(n){return"mm-"+n};t.add("wrapper menu inline panel nopanel list nolist subtitle selected label spacer current highest hidden opened subopened subopen fullsubopen subclose");t.umm=function(n){return n.slice(0,3)=="mm-"&&(n=n.slice(3)),n};u.mm=function(n){return"mm-"+n};u.add("parent");r.mm=function(n){return n+".mm"};r.add("toggle open close setSelected transitionend webkitTransitionEnd mousedown mouseup touchstart touchmove touchend scroll resize click keydown keyup");n[i]._c=t;n[i]._d=u;n[i]._e=r;n[i].glbl=f}var i="mmenu";if(!n[i]){var t={},u={},r={},e=!1,f={$wndw:null,$html:null,$body:null};n[i]=function(n,t,i){return this.$menu=n,this.opts=t,this.conf=i,this.vars={},this.opts=o(this.opts,this.conf,this.$menu),this._initMenu(),this._init(this.$menu.children(this.conf.panelNodetype)),this};n[i].version="4.5.7";n[i].addons=[];n[i].uniqueId=0;n[i].defaults={classes:"",slidingSubmenus:!0,onClick:{setSelected:!0}};n[i].configuration={panelNodetype:"ul, ol, div",transitionDuration:400,openingInterval:25,classNames:{panel:"Panel",selected:"Selected",label:"Label",spacer:"Spacer"}};n[i].prototype={_init:function(r){r=r.not("."+t.nopanel);r=this._initPanels(r);r=this._initLinks(r);r=this._bindCustomEvents(r);for(var u=0;u<n[i].addons.length;u++)typeof this["_init_"+n[i].addons[u]]=="function"&&this["_init_"+n[i].addons[u]](r);this._update()},_initMenu:function(){var r=this,i;this.opts.offCanvas&&this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find("*")).filter("[id]").each(function(){n(this).attr("id",t.mm(n(this).attr("id")))}));this.$menu.contents().each(function(){n(this)[0].nodeType==3&&n(this).remove()});this.$menu.parent().addClass(t.wrapper);i=[t.menu];i.push(t.mm(this.opts.slidingSubmenus?"horizontal":"vertical"));this.opts.classes&&i.push(this.opts.classes);this.$menu.addClass(i.join(" "))},_initPanels:function(i){var c=this,f,e,s,l,o,h;this.__findAddBack(i,"ul, ol").not("."+t.nolist).addClass(t.list);f=this.__findAddBack(i,"."+t.list).find("> li");this.__refactorClass(f,this.conf.classNames.selected,"selected");this.__refactorClass(f,this.conf.classNames.label,"label");this.__refactorClass(f,this.conf.classNames.spacer,"spacer");f.off(r.setSelected).on(r.setSelected,function(i,r){i.stopPropagation();f.removeClass(t.selected);typeof r!="boolean"&&(r=!0);r&&n(this).addClass(t.selected)});return this.__refactorClass(this.__findAddBack(i,"."+this.conf.classNames.panel),this.conf.classNames.panel,"panel"),i.add(this.__findAddBack(i,"."+t.list).children().children().filter(this.conf.panelNodetype).not("."+t.nopanel)).addClass(t.panel),e=this.__findAddBack(i,"."+t.panel),s=n("."+t.panel,this.$menu),e.each(function(){var t=n(this),i=t.attr("id")||c.__getUniqueId();t.attr("id",i)}),e.each(function(){var i=n(this),o=i.is("ul, ol")?i:i.find("ul ,ol").first(),r=i.parent(),f=r.find("> a, > span"),s=r.closest("."+t.panel),e;r.parent().is("."+t.list)&&(i.data(u.parent,r),e=n('<a class="'+t.subopen+'" href="#'+i.attr("id")+'" />').insertBefore(f),f.is("a")||e.addClass(t.fullsubopen),c.opts.slidingSubmenus&&o.prepend('<li class="'+t.subtitle+'"><a class="'+t.subclose+'" href="#'+s.attr("id")+'">'+f.text()+"<\/a><\/li>"))}),l=this.opts.slidingSubmenus?r.open:r.toggle,s.each(function(){var t=n(this),i=t.attr("id");n('a[href="#'+i+'"]',s).off(r.click).on(r.click,function(n){n.preventDefault();t.trigger(l)})}),this.opts.slidingSubmenus?(o=this.__findAddBack(i,"."+t.list).find("> li."+t.selected),o.parents("li").removeClass(t.selected).end().add(o.parents("li")).each(function(){var i=n(this),r=i.find("> ."+t.panel);r.length&&(i.parents("."+t.panel).addClass(t.subopened),r.addClass(t.opened))}).closest("."+t.panel).addClass(t.opened).parents("."+t.panel).addClass(t.subopened)):(o=n("li."+t.selected,s),o.parents("li").removeClass(t.selected).end().add(o.parents("li")).addClass(t.opened)),h=s.filter("."+t.opened),h.length||(h=e.first()),h.addClass(t.opened).last().addClass(t.current),this.opts.slidingSubmenus&&e.not(h.last()).addClass(t.hidden).end().appendTo(this.$menu),e},_initLinks:function(i){var u=this;this.__findAddBack(i,"."+t.list).find("> li > a").not("."+t.subopen).not("."+t.subclose).not('[rel="external"]').not('[target="_blank"]').off(r.click).on(r.click,function(i){var e=n(this),s=e.attr("href")||"",o;u.__valueOrFn(u.opts.onClick.setSelected,e)&&e.parent().trigger(r.setSelected);o=u.__valueOrFn(u.opts.onClick.preventDefault,e,s.slice(0,1)=="#");o&&i.preventDefault();u.__valueOrFn(u.opts.onClick.blockUI,e,!o)&&f.$html.addClass(t.blocking);u.__valueOrFn(u.opts.onClick.close,e,o)&&u.$menu.triggerHandler(r.close)});return i},_bindCustomEvents:function(i){var u=this;i.off(r.toggle+" "+r.open+" "+r.close).on(r.toggle+" "+r.open+" "+r.close,function(n){n.stopPropagation()});if(this.opts.slidingSubmenus)i.on(r.open,function(){return u._openSubmenuHorizontal(n(this))});else i.on(r.toggle,function(){var i=n(this);return i.triggerHandler(i.parent().hasClass(t.opened)?r.close:r.open)}).on(r.open,function(){return n(this).parent().addClass(t.opened),"open"}).on(r.close,function(){return n(this).parent().removeClass(t.opened),"close"});return i},_openSubmenuHorizontal:function(i){if(i.hasClass(t.current))return!1;var u=n("."+t.panel,this.$menu),r=u.filter("."+t.current);return u.removeClass(t.highest).removeClass(t.current).not(i).not(r).addClass(t.hidden),i.hasClass(t.opened)?r.addClass(t.highest).removeClass(t.opened).removeClass(t.subopened):(i.addClass(t.highest),r.addClass(t.subopened)),i.removeClass(t.hidden).addClass(t.current),setTimeout(function(){i.removeClass(t.subopened).addClass(t.opened)},this.conf.openingInterval),"open"},_update:function(n){if(this.updates||(this.updates=[]),typeof n=="function")this.updates.push(n);else for(var t=0,i=this.updates.length;t<i;t++)this.updates[t].call(this,n)},__valueOrFn:function(n,t,i){return typeof n=="function"?n.call(t[0]):typeof n=="undefined"&&typeof i!="undefined"?i:n},__refactorClass:function(n,i,r){n.filter("."+i).removeClass(i).addClass(t[r])},__findAddBack:function(n,t){return n.find(t).add(n.filter(t))},__transitionend:function(n,t,i){var f=!1,u=function(){f||t.call(n[0]);f=!0};n.one(r.transitionend,u);n.one(r.webkitTransitionEnd,u);setTimeout(u,i*1.1)},__getUniqueId:function(){return t.mm(n[i].uniqueId++)}};n.fn[i]=function(t,r){return e||h(),t=o(t,r),r=s(r),this.each(function(){var u=n(this);u.data(i)||u.data(i,new n[i](u,t,r))})};n[i].support={touch:"ontouchstart"in window.document};n[i].debug=function(){};n[i].deprecated=function(n,t){typeof console!="undefined"&&typeof console.warn!="undefined"&&console.warn("MMENU: "+n+" is deprecated, use "+t+" instead.")}}})(jQuery);