(function(n){function e(n,t,i){return n<t&&(n=t),n>i&&(n=i),n}function s(r){return typeof r=="boolean"&&(r={open:r}),typeof r!="object"&&(r={}),n.extend(!0,{},n[i].defaults[t],r)}function h(n){return n}function c(){f=!0;u=n[i]._c;l=n[i]._d;o=n[i]._e;u.add("dragging");r=n[i].glbl}var i="mmenu",t="dragOpen",u,l,o,r,f;n[i].prototype["_init_"+t]=function(){var d,p,ft;if(typeof Hammer=="function"&&this.opts.offCanvas&&!this.vars[t+"_added"]){this.vars[t+"_added"]=!0;f||c();this.opts[t]=s(this.opts[t]);this.conf[t]=h(this.conf[t]);var w=this,b=this.opts[t],nt=this.conf[t];if(b.open){if(Hammer.VERSION<2){n[i].deprecated("Older version of the Hammer library","version 2 or newer");return}var l={},a=0,tt=!1,v=!1,k=0,it=0,y,g,rt,ut;switch(this.opts.offCanvas.position){case"left":case"right":l.events="panleft panright";l.typeLower="x";l.typeUpper="X";v="width";break;case"top":case"bottom":l.events="panup pandown";l.typeLower="y";l.typeUpper="Y";v="height"}switch(this.opts.offCanvas.position){case"left":case"top":l.negative=!1;break;case"right":case"bottom":l.negative=!0}switch(this.opts.offCanvas.position){case"left":l.open_dir="right";l.close_dir="left";break;case"right":l.open_dir="left";l.close_dir="right";break;case"top":l.open_dir="down";l.close_dir="up";break;case"bottom":l.open_dir="up";l.close_dir="down"}d=this.__valueOrFn(b.pageNode,this.$menu,r.$page);typeof d=="string"&&(d=n(d));p=r.$page;switch(this.opts.offCanvas.zposition){case"front":p=this.$menu;break;case"next":p=p.add(this.$menu)}ft=new Hammer(d[0]);ft.on("panstart",function(n){ut=n.center[l.typeLower];switch(w.opts.offCanvas.position){case"right":case"bottom":ut>=r.$wndw[v]()-b.maxStartPos&&(a=1);break;default:ut<=b.maxStartPos&&(a=1)}tt=l.open_dir}).on(l.events+" panend",function(n){a>0&&n.preventDefault()}).on(l.events,function(n){if(y=n["delta"+l.typeUpper],l.negative&&(y=-y),y!=k&&(tt=y>=k?l.open_dir:l.close_dir),k=y,k>b.threshold&&a==1){if(r.$html.hasClass(u.opened))return;a=2;w._openSetup();w.$menu.trigger(o.opening);r.$html.addClass(u.dragging);it=e(r.$wndw[v]()*nt[v].perc,nt[v].min,nt[v].max)}a==2&&(g=e(k,10,it)-(w.opts.offCanvas.zposition=="front"?it:0),l.negative&&(g=-g),rt="translate"+l.typeUpper+"("+g+"px )",p.css({"-webkit-transform":"-webkit-"+rt,transform:rt}))}).on("panend",function(){a==2&&(r.$html.removeClass(u.dragging),p.css("transform",""),w[tt==l.open_dir?"_openFinish":"close"]());a=0})}}};n[i].addons.push(t);n[i].defaults[t]={open:!1,maxStartPos:100,threshold:50};n[i].configuration[t]={width:{perc:.8,min:140,max:440},height:{perc:.8,min:140,max:880}};f=!1})(jQuery);