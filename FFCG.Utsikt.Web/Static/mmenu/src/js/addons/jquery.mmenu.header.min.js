(function(n){function o(i){return typeof i=="boolean"&&(i={add:i,update:i}),typeof i!="object"&&(i={}),n.extend(!0,{},n[r].defaults[t],i)}function s(n){return n}function h(){e=!0;i=n[r]._c;c=n[r]._d;u=n[r]._e;i.add("header hasheader prev next title");f=n[r].glbl}var r="mmenu",t="header",i,c,u,f,e;n[r].prototype["_init_"+t]=function(r){var v,b,c;e||h();v=this.vars[t+"_added"];this.vars[t+"_added"]=!0;v||(this.opts[t]=o(this.opts[t]),this.conf[t]=s(this.conf[t]));var l=this,a=this.opts[t],d=this.conf[t];if(!v&&a.add&&(b=a.content?a.content:'<a class="'+i.prev+'" href="#"><\/a><span class="'+i.title+'"><\/span><a class="'+i.next+'" href="#"><\/a>',n('<div class="'+i.header+'" />').prependTo(this.$menu).append(b)),c=n("div."+i.header,this.$menu),c.length){if(this.$menu.addClass(i.hasheader),a.update){var k=c.find("."+i.title),y=c.find("."+i.prev),p=c.find("."+i.next),w=!1;if(f.$page&&(w="#"+f.$page.attr("id")),!v)y.add(p).off(u.click).on(u.click,function(t){t.preventDefault();t.stopPropagation();var i=n(this).attr("href");i!=="#"&&(w&&i==w?l.$menu.trigger(u.close):n(i,l.$menu).trigger(u.open))});r.each(function(){var r=n(this),b=n("."+l.conf.classNames[t].panelHeader,r),s=n("."+l.conf.classNames[t].panelPrev,r),h=n("."+l.conf.classNames[t].panelNext,r),f=b.html(),e=s.attr("href"),o=h.attr("href");f||(f=n("."+i.subclose,r).html());f||(f=a.title);e||(e=n("."+i.subclose,r).attr("href"));var c=s.html(),v=h.html(),w=function(){k[f?"show":"hide"]();k.html(f);y[e?"attr":"removeAttr"]("href",e);y[e||c?"show":"hide"]();y.html(c);p[o?"attr":"removeAttr"]("href",o);p[o||v?"show":"hide"]();p.html(v)};r.on(u.open,w);r.hasClass(i.current)&&w()})}typeof this._init_buttonbars=="function"&&this._init_buttonbars(c)}};n[r].addons.push(t);n[r].defaults[t]={add:!1,content:!1,title:"Menu",update:!1};n[r].configuration.classNames[t]={panelHeader:"Header",panelNext:"Next",panelPrev:"Prev"};e=!1})(jQuery);