(function(n){function e(i){return typeof i=="boolean"&&(i={add:i,update:i}),typeof i!="object"&&(i={}),n.extend(!0,{},n[r].defaults[t],i)}function o(n){return n}function s(){f=!0;i=n[r]._c;u=n[r]._d;h=n[r]._e;i.add("counter search noresultsmsg");u.add("updatecounter");c=n[r].glbl}var r="mmenu",t="counters",i,u,h,c,f;n[r].prototype["_init_"+t]=function(r){var h;f||s();h=this.vars[t+"_added"];this.vars[t+"_added"]=!0;h||(this.opts[t]=e(this.opts[t]),this.conf[t]=o(this.conf[t]));var l=this,c=this.opts[t],a=this.conf[t];this.__refactorClass(n("em",r),this.conf.classNames[t].counter,"counter");c.add&&r.each(function(){var t=n(this).data(u.parent);t&&(t.find("> em."+i.counter).length||t.prepend(n('<em class="'+i.counter+'" />')))});c.update&&r.each(function(){var t=n(this),f=t.data(u.parent),r;f&&(r=f.find("> em."+i.counter),r.length&&(t.is("."+i.list)||(t=t.find("> ."+i.list)),t.length&&!t.data(u.updatecounter)&&(t.data(u.updatecounter,!0),l._update(function(){var n=t.children().not("."+i.label).not("."+i.subtitle).not("."+i.hidden).not("."+i.search).not("."+i.noresultsmsg);r.html(n.length)}))))})};n[r].addons.push(t);n[r].defaults[t]={add:!1,update:!1};n[r].configuration.classNames[t]={counter:"Counter"};f=!1})(jQuery);